(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[558],{4766:function(e,t,s){Promise.resolve().then(s.bind(s,5402))},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var n=s(2972),r=s.n(n)},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"useParams")&&s.d(t,{useParams:function(){return n.useParams}}),s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},5402:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var n=s(7437),r=s(1293),i=s(7155),a=s(2265),l=s(6334),o=s(9356);function c(e){let{projectId:t,isOrganizationLevel:s=!1}=e,[r,i]=(0,a.useState)([]),[c,d]=(0,a.useState)(null),[m,u]=(0,a.useState)(!1),[x,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)("all"),j=(0,o.p)(),f=[{id:"project.create",name:"Create Projects",description:"Create new projects",category:"project"},{id:"project.edit",name:"Edit Projects",description:"Edit project settings and metadata",category:"project"},{id:"project.delete",name:"Delete Projects",description:"Delete projects permanently",category:"project"},{id:"project.publish",name:"Publish Projects",description:"Publish projects to production",category:"project"},{id:"content.create",name:"Create Content",description:"Create new content and pages",category:"content"},{id:"content.edit",name:"Edit Content",description:"Edit existing content",category:"content"},{id:"content.delete",name:"Delete Content",description:"Delete content permanently",category:"content"},{id:"content.review",name:"Review Content",description:"Review and approve content changes",category:"content"},{id:"team.invite",name:"Invite Members",description:"Invite new team members",category:"team"},{id:"team.manage",name:"Manage Members",description:"Edit member roles and permissions",category:"team"},{id:"team.remove",name:"Remove Members",description:"Remove team members",category:"team"},{id:"system.settings",name:"System Settings",description:"Access system configuration",category:"system"},{id:"system.analytics",name:"Analytics Access",description:"View analytics and reports",category:"system"},{id:"system.billing",name:"Billing Access",description:"Access billing and subscription settings",category:"system"}],y={owner:{name:"Owner",description:"Full access to everything",permissions:f.map(e=>e.id),color:"bg-red-100 text-red-800"},admin:{name:"Administrator",description:"Full project and team management",permissions:f.filter(e=>"system"!==e.category||"system.billing"!==e.id).map(e=>e.id),color:"bg-purple-100 text-purple-800"},editor:{name:"Editor",description:"Can create and edit content",permissions:["content.create","content.edit","content.review","project.edit","system.analytics"],color:"bg-blue-100 text-blue-800"},viewer:{name:"Viewer",description:"Read-only access",permissions:["system.analytics"],color:"bg-gray-100 text-gray-800"}},b=[{id:"john-doe",name:"John Doe",email:"john@company.com",avatar:"\uD83D\uDC68‍\uD83D\uDCBC",role:"owner",status:"active",joinedAt:"2023-12-01T10:00:00Z",lastActive:"2024-01-15T14:30:00Z",permissions:y.owner.permissions,projects:["proj-1","proj-2","proj-3"]},{id:"jane-smith",name:"Jane Smith",email:"jane@company.com",avatar:"\uD83D\uDC69‍\uD83D\uDCBB",role:"admin",status:"active",joinedAt:"2023-12-05T14:20:00Z",lastActive:"2024-01-15T12:15:00Z",permissions:y.admin.permissions,projects:["proj-1","proj-2"]},{id:"mike-johnson",name:"Mike Johnson",email:"mike@company.com",avatar:"✍️",role:"editor",status:"active",joinedAt:"2024-01-01T09:30:00Z",lastActive:"2024-01-14T16:45:00Z",permissions:y.editor.permissions,projects:["proj-2"]},{id:"sarah-wilson",name:"Sarah Wilson",email:"sarah@company.com",avatar:"\uD83D\uDC69‍\uD83C\uDFA8",role:"viewer",status:"pending",joinedAt:"2024-01-10T11:00:00Z",lastActive:"2024-01-10T11:00:00Z",permissions:y.viewer.permissions,projects:["proj-1"]}];(0,a.useEffect)(()=>{i(b)},[]);let v=r.filter(e=>"all"===h||("pending"===h?"pending"===e.status:e.role===h)),N=(e,t)=>{i(s=>s.map(s=>s.id===e?{...s,role:t,permissions:y[t].permissions}:s)),j.success("Role updated","Member role has been updated successfully")},w=(e,t)=>{i(s=>s.map(s=>s.id===e?{...s,permissions:s.permissions.includes(t)?s.permissions.filter(e=>e!==t):[...s.permissions,t]}:s))},k=e=>{let t=r.find(t=>t.id===e);if(t){if("owner"===t.role){j.error("Cannot remove owner","The owner cannot be removed from the team");return}i(t=>t.filter(t=>t.id!==e)),j.success("Member removed","".concat(t.name," has been removed from the team"))}},C=(e,t)=>{i(s=>s.map(s=>s.id===e?{...s,status:t}:s)),j.success("Status updated","Member status changed to ".concat(t))},D=e=>{let t=new Date,s=new Date(e),n=Math.floor((t.getTime()-s.getTime())/36e5);if(n<1)return"Active now";if(n<24)return"".concat(n,"h ago");let r=Math.floor(n/24);return r<7?"".concat(r,"d ago"):s.toLocaleDateString()},A=e=>Object.entries(f.reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{})).map(t=>{let[s,n]=t;return{category:s,permissions:n,granted:n.filter(t=>e.includes(t.id)).length,total:n.length}});return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[(0,n.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s?"Organization Team":"Project Team"}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:"Manage team members, roles, and permissions"})]}),(0,n.jsx)(l.z,{onClick:()=>u(!0),children:"\uD83D\uDC64 Invite Member"})]}),(0,n.jsx)("div",{className:"flex space-x-1",children:[{key:"all",label:"All",count:r.length},{key:"owner",label:"Owners",count:r.filter(e=>"owner"===e.role).length},{key:"admin",label:"Admins",count:r.filter(e=>"admin"===e.role).length},{key:"editor",label:"Editors",count:r.filter(e=>"editor"===e.role).length},{key:"viewer",label:"Viewers",count:r.filter(e=>"viewer"===e.role).length},{key:"pending",label:"Pending",count:r.filter(e=>"pending"===e.status).length}].map(e=>(0,n.jsxs)("button",{onClick:()=>g(e.key),className:"px-3 py-1 text-sm rounded-md ".concat(h===e.key?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"),children:[e.label," (",e.count,")"]},e.key))})]}),(0,n.jsx)("div",{className:"divide-y divide-gray-200",children:v.map(e=>(0,n.jsxs)("div",{className:"p-6 hover:bg-gray-50",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center",children:(0,n.jsx)("span",{className:"text-xl",children:e.avatar})}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,n.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat(y[e.role].color),children:y[e.role].name}),"pending"===e.status&&(0,n.jsx)("span",{className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded-full",children:"Pending"}),"suspended"===e.status&&(0,n.jsx)("span",{className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded-full",children:"Suspended"})]}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:e.email}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-400",children:[(0,n.jsxs)("span",{children:["Joined ",new Date(e.joinedAt).toLocaleDateString()]}),(0,n.jsx)("span",{children:"•"}),(0,n.jsx)("span",{children:D(e.lastActive)}),(0,n.jsx)("span",{children:"•"}),(0,n.jsxs)("span",{children:[e.projects.length," project",1!==e.projects.length?"s":""]})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("button",{onClick:()=>{d(e.id),p(!0)},className:"text-sm text-blue-600 hover:text-blue-700",children:"Permissions"}),"owner"!==e.role&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("select",{value:e.role,onChange:t=>N(e.id,t.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[(0,n.jsx)("option",{value:"admin",children:"Admin"}),(0,n.jsx)("option",{value:"editor",children:"Editor"}),(0,n.jsx)("option",{value:"viewer",children:"Viewer"})]}),"active"===e.status?(0,n.jsx)("button",{onClick:()=>C(e.id,"suspended"),className:"text-sm text-orange-600 hover:text-orange-700",children:"Suspend"}):"suspended"===e.status?(0,n.jsx)("button",{onClick:()=>C(e.id,"active"),className:"text-sm text-green-600 hover:text-green-700",children:"Activate"}):null,(0,n.jsx)("button",{onClick:()=>k(e.id),className:"text-sm text-red-600 hover:text-red-700",children:"Remove"})]})]})]}),c===e.id&&(0,n.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,n.jsx)("h5",{className:"text-sm font-medium text-gray-900 mb-2",children:"Permission Summary"}),(0,n.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:A(e.permissions).map(e=>{let{category:t,granted:s,total:r}=e;return(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsxs)("div",{className:"text-lg font-medium text-gray-900",children:[s,"/",r]}),(0,n.jsx)("div",{className:"text-xs text-gray-500 capitalize",children:t})]},t)})})]})]},e.id))}),m&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,n.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,n.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Invite Team Member"}),(0,n.jsxs)("form",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),(0,n.jsx)("input",{type:"email",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"colleague@company.com"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),(0,n.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,n.jsx)("option",{value:"viewer",children:"Viewer"}),(0,n.jsx)("option",{value:"editor",children:"Editor"}),(0,n.jsx)("option",{value:"admin",children:"Admin"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message (Optional)"}),(0,n.jsx)("textarea",{rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Welcome to the team! We're excited to have you."})]}),(0,n.jsxs)("div",{className:"flex space-x-3",children:[(0,n.jsx)(l.z,{type:"submit",fullWidth:!0,children:"Send Invitation"}),(0,n.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>u(!1),fullWidth:!0,children:"Cancel"})]})]})]})}),x&&c&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,n.jsx)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-96 overflow-y-auto",children:(()=>{let e=r.find(e=>e.id===c);return e?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["Permissions for ",e.name]}),(0,n.jsx)("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:"✕"})]}),(0,n.jsx)("div",{className:"space-y-6",children:A(e.permissions).map(t=>{let{category:s,permissions:r}=t;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-sm font-medium text-gray-900 mb-3 capitalize",children:[s," Permissions"]}),(0,n.jsx)("div",{className:"space-y-2",children:r.map(t=>(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),(0,n.jsx)("div",{className:"text-xs text-gray-500",children:t.description})]}),(0,n.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,n.jsx)("input",{type:"checkbox",checked:e.permissions.includes(t.id),onChange:()=>w(e.id,t.id),disabled:"owner"===e.role,className:"sr-only peer"}),(0,n.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]},t.id))})]},s)})}),(0,n.jsx)("div",{className:"mt-6 flex justify-end",children:(0,n.jsx)(l.z,{onClick:()=>p(!1),children:"Done"})})]}):null})()})})]})}function d(){return(0,n.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,n.jsx)(r.Y,{}),(0,n.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,n.jsx)(i.h,{}),(0,n.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Team Management"}),(0,n.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage team members, roles, and permissions across your organization"})]})}),(0,n.jsx)(c,{isOrganizationLevel:!0})]})})]})]})}},1994:function(e,t,s){"use strict";function n(){for(var e,t,s=0,n="",r=arguments.length;s<r;s++)(e=arguments[s])&&(t=function e(t){var s,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t){if(Array.isArray(t)){var i=t.length;for(s=0;s<i;s++)t[s]&&(n=e(t[s]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n)}return r}(e))&&(n&&(n+=" "),n+=t);return n}s.d(t,{W:function(){return n}})}},function(e){e.O(0,[972,605,651,971,117,744],function(){return e(e.s=4766)}),_N_E=e.O()}]);
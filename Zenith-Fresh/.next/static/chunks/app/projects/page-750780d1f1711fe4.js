(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[895],{818:function(e,s,t){Promise.resolve().then(t.bind(t,418))},418:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var a=t(7437),r=t(1293),l=t(7155),n=t(6334),o=t(2265);function d(e){let{filters:s,onFiltersChange:t,onReset:r}=e,[l,n]=(0,o.useState)(!1),d=(e,a)=>{t({...s,[e]:a})},c=(e,t)=>{let a=s[e];d(e,a.includes(t)?a.filter(e=>e!==t):[...a,t])};return(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,a.jsx)("span",{className:"text-gray-400",children:"\uD83D\uDD0D"})}),(0,a.jsx)("input",{type:"text",value:s.search,onChange:e=>d("search",e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search projects by name or description..."})]})}),(0,a.jsx)("div",{className:"flex gap-2",children:[{value:"DRAFT",label:"Draft",color:"bg-yellow-100 text-yellow-800"},{value:"ACTIVE",label:"Active",color:"bg-green-100 text-green-800"},{value:"PUBLISHED",label:"Published",color:"bg-blue-100 text-blue-800"},{value:"ARCHIVED",label:"Archived",color:"bg-gray-100 text-gray-800"}].map(e=>(0,a.jsx)("button",{onClick:()=>c("status",e.value),className:"px-3 py-2 text-sm rounded-full border transition-all ".concat(s.status.includes(e.value)?"".concat(e.color," border-transparent"):"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:e.label},e.value))}),(0,a.jsx)("button",{onClick:()=>n(!l),className:"px-4 py-2 text-sm text-blue-600 hover:text-blue-700 border border-blue-200 rounded-md hover:bg-blue-50 transition-colors",children:l?"↑ Less Filters":"↓ More Filters"})]}),(s.search||s.status.length>0||s.collaborators.length>0||s.tags.length>0||s.dateRange.start||s.dateRange.end||"updatedAt"!==s.sortBy||"desc"!==s.sortOrder)&&(0,a.jsxs)("div",{className:"mt-3 flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[s.status.length+s.collaborators.length+s.tags.length+(s.search?1:0)+(s.dateRange.start?1:0)," active filter(s)"]}),(0,a.jsx)("button",{onClick:r,className:"text-sm text-red-600 hover:text-red-700",children:"Clear all"})]})]}),l&&(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),(0,a.jsx)("input",{type:"date",value:s.dateRange.start,onChange:e=>d("dateRange",{...s.dateRange,start:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),(0,a.jsx)("input",{type:"date",value:s.dateRange.end,onChange:e=>d("dateRange",{...s.dateRange,end:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Collaborators"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"john-doe",label:"John Doe",avatar:"\uD83D\uDC68‍\uD83D\uDCBC"},{value:"jane-smith",label:"Jane Smith",avatar:"\uD83D\uDC69‍\uD83D\uDCBB"},{value:"mike-johnson",label:"Mike Johnson",avatar:"✍️"},{value:"sarah-wilson",label:"Sarah Wilson",avatar:"\uD83D\uDC69‍\uD83C\uDFA8"}].map(e=>(0,a.jsxs)("button",{onClick:()=>c("collaborators",e.value),className:"flex items-center space-x-2 px-3 py-2 text-sm border rounded-full transition-all ".concat(s.collaborators.includes(e.value)?"bg-blue-100 text-blue-800 border-blue-200":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:[(0,a.jsx)("span",{children:e.avatar}),(0,a.jsx)("span",{children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"ecommerce",label:"E-commerce"},{value:"blog",label:"Blog"},{value:"portfolio",label:"Portfolio"},{value:"landing-page",label:"Landing Page"},{value:"marketing",label:"Marketing"},{value:"saas",label:"SaaS"}].map(e=>(0,a.jsxs)("button",{onClick:()=>c("tags",e.value),className:"px-3 py-2 text-sm border rounded-full transition-all ".concat(s.tags.includes(e.value)?"bg-purple-100 text-purple-800 border-purple-200":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:["#",e.label]},e.value))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sort By"}),(0,a.jsx)("select",{value:s.sortBy,onChange:e=>d("sortBy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[{value:"name",label:"Name"},{value:"createdAt",label:"Created Date"},{value:"updatedAt",label:"Last Modified"},{value:"status",label:"Status"},{value:"progress",label:"Progress"}].map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Order"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>d("sortOrder","asc"),className:"px-4 py-2 text-sm border rounded-md transition-all ".concat("asc"===s.sortOrder?"bg-blue-100 text-blue-800 border-blue-200":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:"↑ Ascending"}),(0,a.jsx)("button",{onClick:()=>d("sortOrder","desc"),className:"px-4 py-2 text-sm border rounded-md transition-all ".concat("desc"===s.sortOrder?"bg-blue-100 text-blue-800 border-blue-200":"bg-white text-gray-600 border-gray-300 hover:bg-gray-50"),children:"↓ Descending"})]})]})]})]})]})}var c=t(1014),i=t(7648);function u(){var e;let[s,t]=(0,o.useState)(!1),[u,g]=(0,o.useState)(1),[x,m]=(0,o.useState)({search:"",status:[],dateRange:{start:"",end:""},collaborators:[],tags:[],sortBy:"updatedAt",sortOrder:"desc"}),{data:b,isLoading:h,error:p}=(0,c.Z0)(u,20),y=(0,c.Qs)(),j=()=>{m({search:"",status:[],dateRange:{start:"",end:""},collaborators:[],tags:[],sortBy:"updatedAt",sortOrder:"desc"})},v=((null==b?void 0:null===(e=b.data)||void 0===e?void 0:e.items)||[]).filter(e=>{if(x.search&&!(e.name.toLowerCase().includes(x.search.toLowerCase())||e.description&&e.description.toLowerCase().includes(x.search.toLowerCase()))||x.status.length>0&&!x.status.includes(e.status))return!1;if(x.dateRange.start||x.dateRange.end){let s=new Date(e.updatedAt);if(x.dateRange.start&&s<new Date(x.dateRange.start)||x.dateRange.end&&s>new Date(x.dateRange.end))return!1}return!0}).sort((e,s)=>{let t,a;switch(x.sortBy){case"name":t=e.name,a=s.name;break;case"progress":t=e.progress,a=s.progress;break;case"status":t=e.status,a=s.status;break;default:t=e.lastModified,a=s.lastModified}return"desc"===x.sortOrder?t>a?-1:1:t<a?-1:1}),f=async e=>{e.preventDefault();let s=new FormData(e.currentTarget);try{await y.mutateAsync({name:s.get("name"),description:s.get("description")}),t(!1),e.currentTarget.reset()}catch(e){console.error("Failed to create project:",e)}};return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,a.jsx)(r.Y,{}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,a.jsx)(l.h,{}),(0,a.jsxs)("main",{className:"flex-1 overflow-y-auto p-6",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Projects"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage and organize your creative projects"})]}),(0,a.jsx)(n.z,{onClick:()=>t(!0),children:"+ New Project"})]}),(0,a.jsx)(d,{filters:x,onFiltersChange:m,onReset:j}),h&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((e,s)=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow animate-pulse",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-full mb-2"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-2/3 mb-4"}),(0,a.jsx)("div",{className:"h-2 bg-gray-200 rounded w-full mb-4"}),(0,a.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded w-1/4"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded flex-1"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-8"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-8"})]})]})},s))}),p&&!h&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Failed to load projects"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:p instanceof Error?p.message:"An unexpected error occurred"}),(0,a.jsx)(n.z,{onClick:()=>window.location.reload(),children:"Try Again"})]}),!h&&!p&&(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(e=>(0,a.jsx)("div",{className:"bg-white rounded-lg shadow hover:shadow-md transition-shadow",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),(0,a.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("ACTIVE"===e.status?"bg-green-100 text-green-800":"DRAFT"===e.status?"bg-yellow-100 text-yellow-800":"PUBLISHED"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status.toLowerCase()})]}),(0,a.jsx)("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,a.jsx)("span",{children:"Progress"}),(0,a.jsxs)("span",{children:[e.progress,"%"]})]}),(0,a.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:"".concat(e.progress,"%")}})})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-4",children:[(0,a.jsxs)("span",{children:[e.pages," pages"]}),(0,a.jsxs)("span",{children:[e.collaborators," collaborators"]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mb-4",children:["Last modified: ",new Date(e.lastModified).toLocaleDateString()]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.default,{href:"/projects/".concat(e.id),className:"flex-1 bg-blue-600 text-white px-3 py-2 rounded text-sm text-center hover:bg-blue-700 transition-colors",children:"Open"}),(0,a.jsx)("button",{className:"px-3 py-2 border border-gray-300 rounded text-sm hover:bg-gray-50 transition-colors",children:"⚙️"}),(0,a.jsx)("button",{className:"px-3 py-2 border border-gray-300 rounded text-sm hover:bg-gray-50 transition-colors",children:"\uD83D\uDCCA"})]})]})},e.id))}),v.length>0&&(null==b?void 0:b.data)&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-600 mb-4",children:[(0,a.jsxs)("span",{children:["Showing ",v.length," of ",b.data.pagination.total," projects"]}),(0,a.jsxs)("span",{children:["Sorted by ",x.sortBy," (","desc"===x.sortOrder?"newest first":"oldest first",")"]})]}),!h&&!p&&0===v.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC1"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No projects found"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:x.search||x.status.length>0?"Try adjusting your search criteria or filters":"Create your first project to get started"}),x.search||x.status.length>0?(0,a.jsx)(n.z,{variant:"outline",onClick:j,children:"Clear All Filters"}):(0,a.jsx)(n.z,{onClick:()=>t(!0),children:"Create New Project"})]})]}),s&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Project"}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name"}),(0,a.jsx)("input",{name:"name",type:"text",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"My Awesome Project"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,a.jsx)("textarea",{name:"description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Brief description of your project"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsx)(n.z,{type:"submit",fullWidth:!0,disabled:y.isPending,children:y.isPending?"Creating...":"Create Project"}),(0,a.jsx)(n.z,{type:"button",variant:"outline",onClick:()=>t(!1),fullWidth:!0,children:"Cancel"})]})]})]})})]})]})]})}},1014:function(e,s,t){"use strict";t.d(s,{PY:function(){return c},QU:function(){return x},Qs:function(){return i},Qt:function(){return u},Z0:function(){return d},vq:function(){return g}});var a=t(1713),r=t(9827),l=t(1770);class n{async request(e,s){let t="".concat(this.baseUrl,"/api").concat(e),a=await fetch(t,{headers:{"Content-Type":"application/json",...null==s?void 0:s.headers},...s});if(!a.ok)throw Error((await a.json().catch(()=>({error:"HTTP ".concat(a.status,": ").concat(a.statusText)}))).error||"HTTP ".concat(a.status));return a.json()}async get(e){return this.request(e,{method:"GET"})}async post(e,s){return this.request(e,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(e,s){return this.request(e,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(e){return this.request(e,{method:"DELETE"})}constructor(){this.baseUrl="http://localhost:3000"}}let o=new n;function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return(0,a.a)({queryKey:["projects",e,s],queryFn:()=>o.get("/projects?page=".concat(e,"&limit=").concat(s))})}function c(e){return(0,a.a)({queryKey:["project",e],queryFn:()=>o.get("/projects/".concat(e)),enabled:!!e})}function i(){let e=(0,r.NL)();return(0,l.D)({mutationFn:e=>o.post("/projects",e),onSuccess:()=>{e.invalidateQueries({queryKey:["projects"]}),e.invalidateQueries({queryKey:["dashboard"]})}})}function u(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;return(0,a.a)({queryKey:["pages",e,s,t],queryFn:()=>o.get("/projects/".concat(e,"/pages?page=").concat(s,"&limit=").concat(t)),enabled:!!e})}function g(e){let s=(0,r.NL)();return(0,l.D)({mutationFn:s=>o.post("/projects/".concat(e,"/pages"),s),onSuccess:()=>{s.invalidateQueries({queryKey:["pages",e]}),s.invalidateQueries({queryKey:["project",e]})}})}function x(){return(0,a.a)({queryKey:["dashboard"],queryFn:()=>o.get("/dashboard")})}}},function(e){e.O(0,[972,605,954,414,651,971,117,744],function(){return e(e.s=818)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[222],{8452:function(e,s,a){Promise.resolve().then(a.bind(a,8790))},8790:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var t=a(7437),l=a(9376),r=a(2265),c=a(1293),n=a(7155),i=a(8492),o=a(6334),d=a(7648);function x(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),a=e.id,x=e.pageId,[h,f]=(0,r.useState)(null),[u,m]=(0,r.useState)(!0),[j,p]=(0,r.useState)(null);return((0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/projects/".concat(a,"/pages/").concat(x)),s=await e.json();if(!e.ok)throw Error(s.error||"Failed to fetch page data");if(s.success)f(s.data);else throw Error(s.error||"Unknown error")}catch(e){console.error("Failed to fetch page:",e),p(e instanceof Error?e.message:"Failed to load page")}finally{m(!1)}})()},[a,x]),u)?(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,t.jsx)(c.Y,{}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,t.jsx)(n.h,{}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-6",children:[(0,t.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/3"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-full"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"}),(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-4/6"})]})]})})]})]}):j||!h?(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,t.jsx)(c.Y,{}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,t.jsx)(n.h,{}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:j||"Page not found"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"The page you're trying to edit doesn't exist or you don't have permission to edit it."}),(0,t.jsx)(d.default,{href:"/projects/".concat(a),children:(0,t.jsx)(o.z,{children:"Back to Project"})})]})})]})]}):(0,t.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[(0,t.jsx)(c.Y,{}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col overflow-hidden",children:[(0,t.jsx)(n.h,{}),(0,t.jsx)("main",{className:"flex-1 overflow-hidden",children:(0,t.jsx)(i.e,{projectId:a,pageId:x,initialData:{title:h.title,slug:h.slug,content:h.content,metaTitle:h.metaTitle,metaDescription:h.metaDescription,keywords:h.keywords,published:h.published},onSave:()=>{s.push("/projects/".concat(a,"?tab=pages"))},onCancel:()=>{s.push("/projects/".concat(a,"?tab=pages"))}})})]})]})}}},function(e){e.O(0,[972,605,651,582,492,971,117,744],function(){return e(e.s=8452)}),_N_E=e.O()}]);